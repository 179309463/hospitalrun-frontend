{{#edit-panel editPanelProps=editPanelProps}}
  <div class="panel panel-primary">
    <div class="panel-body">
      <div class="row">
        <div class="form-group">
          <label for="customFormSelect">{{t 'admin.customForms.labels.customForm'}}</label>
          <select onchange={{action 'selectForm' value="target.value"}} class="form-control" id="customFormSelect">
            <option disabled selected={{is-not currentForm}}></option>
            {{#each model as |customForm|}}
              <option value={{customForm.id}}
              selected={{eq customForm.id currentForm}}>
              {{customForm.name}}
              </option>
            {{/each}}
          </select>
        </div>
      </div>
      <div class="row">
        <button class="btn btn-default" {{action 'addForm'}}>{{t 'admin.customForms.buttons.addForm'}}</button>
      </div>
    </div>
  </div>
  {{#if currentForm}}
    <div class="panel panel-primary">
      <div class="panel-heading">
        <h3 class="panel-title">{{formName}}</h3>
      </div>
      <div class="panel-body">
        {{#em-form model=this submitButton=false}}
          <div class="row">
            {{em-input property="currentForm.name" label=(t 'admin.customForms.labels.formName') class="form-input-group required col-xs-4"}}
            {{em-input property="currentForm.columns" label=(t 'admin.customForms.labels.columns') class="form-input-group required col-xs-2"}}
          </div>
          <h4>
            {{t 'admin.customForms.titles.fields'}}
            <button class="btn btn-default align-right" {{action 'addField'}}>
              {{t 'admin.customForms.buttons.addField'}}
            </button>
          </h4>
          <table class="table">
            <tr class="table-header">
              <th>Label</th>
              <th>Type</th>
              <th>Action</th>
            </tr>
            {{#each currentForm.fields as |field|}}
              <tr>
                <td>{{field.label}}</td>
                <td>{{field.type}}</td>
                <td>
                  <button class="btn btn-default warning" {{action "deleteValue" field bubbles=false }}>
                    <span class="octicon octicon-x"></span>{{t "buttons.delete"}}
                  </button>
                  <button class="btn btn-default neutral" {{action 'editItem' field bubbles=false }}>
                    {{t 'buttons.edit'}}
                  </button>
                </td>
              </tr>
            {{/each}}
          </table>
          {{#each currentForm.fields as |field|}}
            {{custom-field-edit field=field}}
          {{/each}}
        {{/em-form}}
      </div>
    </div>
  {{/if}}
{{/edit-panel}}
